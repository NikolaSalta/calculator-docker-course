# ═══════════════════════════════════════════════════════════════════════════
# pytest.ini — Конфигурация pytest
# ═══════════════════════════════════════════════════════════════════════════
#
# Что такое pytest.ini?
# Файл конфигурации для pytest. Позволяет настроить:
# - Где искать тесты
# - Какие файлы считать тестами
# - Стандартные опции запуска
# - Пользовательские маркеры
#
# Альтернативы:
# - pyproject.toml (секция [tool.pytest.ini_options])
# - setup.cfg (секция [tool:pytest])
# ═══════════════════════════════════════════════════════════════════════════

[pytest]

# testpaths — директории для поиска тестов
# . означает текущую директорию
testpaths = .

# python_files — шаблон имён файлов с тестами
# test_*.py — файлы, начинающиеся с test_
python_files = test_*.py

# python_functions — шаблон имён функций-тестов
# test_* — функции, начинающиеся с test_
python_functions = test_*

# addopts — стандартные опции при запуске pytest
# -v — verbose: подробный вывод (имя каждого теста)
# --tb=short — сокращённый traceback при ошибках
addopts = -v --tb=short

# timeout — максимальное время выполнения одного теста (секунды)
# Если тест выполняется дольше — он прерывается
# Защита от зависших тестов
timeout = 60

# markers — объявление пользовательских маркеров
# Маркеры позволяют группировать тесты и запускать выборочно:
#   pytest -m smoke     # Только smoke тесты
#   pytest -m api       # Только API тесты
#   pytest -m "smoke or api"  # smoke ИЛИ api
#
# Без объявления pytest выдаст warning
markers =
    smoke: Quick smoke tests (базовая проверка работоспособности)
    api: API tests (тесты HTTP-эндпоинтов)
    ui_selenium: UI tests with Selenium browser (тесты через реальный браузер)

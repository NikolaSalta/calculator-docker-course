/*
 * ═══════════════════════════════════════════════════════════════════════════
 * index.js — Точка входа React-приложения
 * ═══════════════════════════════════════════════════════════════════════════
 *
 * Что делает этот файл?
 * 1. Находит DOM-элемент с id="root" в index.html
 * 2. Создаёт React-корень (root) в этом элементе
 * 3. Рендерит главный компонент <App /> в этот корень
 *
 * После этого React полностью управляет содержимым #root.
 * Любые изменения состояния автоматически обновляют DOM.
 * ═══════════════════════════════════════════════════════════════════════════
 */

// ─────────────────────────────────────────────────────────────────────────────
// ИМПОРТЫ
// ─────────────────────────────────────────────────────────────────────────────

/*
 * React — основная библиотека React
 * Содержит функции для создания компонентов (useState, useEffect и т.д.)
 * 
 * В React 17+ не обязательно импортировать React в каждом файле,
 * но для ясности мы всё равно импортируем
 */
import React from 'react';

/*
 * ReactDOM — библиотека для работы с DOM (Document Object Model)
 * 
 * React сам по себе не знает о DOM — он работает с абстрактным
 * "виртуальным DOM". ReactDOM — это "мост" между React и браузерным DOM.
 * 
 * Для React Native был бы другой "мост" — react-native
 * Для серверного рендеринга — react-dom/server
 */
import ReactDOM from 'react-dom/client';

/*
 * App — главный компонент нашего приложения
 * Содержит всю логику калькулятора
 * 
 * './' означает "в текущей директории"
 * './App' → ./App.js (расширение можно опустить)
 */
import App from './App';


// ─────────────────────────────────────────────────────────────────────────────
// ИНИЦИАЛИЗАЦИЯ REACT
// ─────────────────────────────────────────────────────────────────────────────

/*
 * document.getElementById('root') — находим DOM-элемент
 * 
 * document — глобальный объект, представляющий HTML-документ
 * getElementById — метод для поиска элемента по id
 * 'root' — id элемента <div id="root"> в index.html
 */
const rootElement = document.getElementById('root');

/*
 * ReactDOM.createRoot() — создаём React-корень
 * 
 * Это новый API React 18 (Concurrent Mode)
 * Старый API: ReactDOM.render(<App />, rootElement)
 * 
 * createRoot включает новые возможности:
 * - Автоматический batching (группировка обновлений)
 * - Transitions (переходы с приоритетами)
 * - Suspense improvements
 */
const root = ReactDOM.createRoot(rootElement);

/*
 * root.render() — рендерим React-компонент
 * 
 * <App /> — JSX-синтаксис для создания React-элемента
 * Это не HTML! Это JavaScript, который выглядит как HTML.
 * 
 * При компиляции <App /> превращается в:
 * React.createElement(App, null)
 */
root.render(<App />);


/*
 * ═══════════════════════════════════════════════════════════════════════════
 * ЧТО ПРОИСХОДИТ ДАЛЬШЕ?
 * ═══════════════════════════════════════════════════════════════════════════
 *
 * 1. React вызывает функцию App() (наш компонент)
 * 2. App() возвращает JSX (описание UI)
 * 3. React сравнивает JSX с текущим DOM (reconciliation)
 * 4. React обновляет только изменившиеся части DOM
 * 5. Пользователь видит интерфейс калькулятора
 *
 * При изменении состояния (например, ввод числа):
 * 1. Вызывается setState (setA, setB, etc.)
 * 2. React помечает компонент как "нужно перерендерить"
 * 3. React снова вызывает App() с новым состоянием
 * 4. Новый JSX сравнивается со старым
 * 5. Обновляются только изменившиеся DOM-элементы
 * ═══════════════════════════════════════════════════════════════════════════
 */

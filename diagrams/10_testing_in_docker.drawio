<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3">
  <diagram name="10 - Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Docker" id="testing">
    <mxGraphModel dx="945" dy="604" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="&lt;h1&gt;Ð”Ð˜ÐÐ“Ð ÐÐœÐœÐ 10: Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Docker&lt;/h1&gt;&lt;p&gt;API-Ñ‚ÐµÑÑ‚Ñ‹ Ð¸ Selenium UI-Ñ‚ÐµÑÑ‚Ñ‹&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;" parent="1" vertex="1">
          <mxGeometry x="350" y="10" width="500" height="50" as="geometry" />
        </mxCell>
        <mxCell id="network" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="80" width="1100" height="350" as="geometry" />
        </mxCell>
        <mxCell id="network-title" value="&lt;b&gt;Docker Network: test-network&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;" parent="1" vertex="1">
          <mxGeometry x="40" y="85" width="1100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="backend" value="&lt;b&gt;backend&lt;/b&gt;&lt;br&gt;&lt;br&gt;Spring Boot&lt;br&gt;:8080&lt;br&gt;&lt;br&gt;/api/calc&lt;br&gt;/api/health" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="80" y="130" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="frontend" value="&lt;b&gt;frontend&lt;/b&gt;&lt;br&gt;&lt;br&gt;nginx + React&lt;br&gt;:80&lt;br&gt;&lt;br&gt;UI ÐºÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€Ð°" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="80" y="280" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="tests" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="280" y="120" width="350" height="290" as="geometry" />
        </mxCell>
        <mxCell id="tests-title" value="&lt;b&gt;tests (pytest ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;" parent="1" vertex="1">
          <mxGeometry x="280" y="125" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="conftest" value="&lt;b&gt;conftest.py&lt;/b&gt;&lt;br&gt;&lt;br&gt;wait_for_services()&lt;br&gt;Ð–Ð´Ñ‘Ñ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚Ð¸ backend" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="300" y="155" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="test-api" value="&lt;b&gt;test_api.py&lt;/b&gt;&lt;br&gt;&lt;br&gt;TestSmoke&lt;br&gt;- test_backend_health&lt;br&gt;- test_frontend_available&lt;br&gt;&lt;br&gt;TestCalculatorAPI&lt;br&gt;- test_operations&lt;br&gt;- test_division_by_zero" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;align=left;spacingLeft=5;" parent="1" vertex="1">
          <mxGeometry x="300" y="225" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="test-ui" value="&lt;b&gt;test_ui_selenium.py&lt;/b&gt;&lt;br&gt;&lt;br&gt;CalculatorPage (Page Object)&lt;br&gt;&lt;br&gt;TestCalculatorUI&lt;br&gt;- test_page_loads&lt;br&gt;- test_addition&lt;br&gt;- test_multiplication" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;align=left;spacingLeft=5;" parent="1" vertex="1">
          <mxGeometry x="460" y="155" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="browser-fix" value="&lt;b&gt;browser fixture&lt;/b&gt;&lt;br&gt;WebDriver.Remote(&lt;br&gt;  selenium-hub:4444)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="460" y="285" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="selenium" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="700" y="120" width="400" height="290" as="geometry" />
        </mxCell>
        <mxCell id="selenium-title" value="&lt;b&gt;Selenium Grid&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;" parent="1" vertex="1">
          <mxGeometry x="700" y="125" width="400" height="20" as="geometry" />
        </mxCell>
        <mxCell id="hub" value="&lt;b&gt;selenium-hub&lt;/b&gt;&lt;br&gt;:4444&lt;br&gt;&lt;br&gt;ÐšÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð¾Ñ€&lt;br&gt;ÐŸÑ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹&lt;br&gt;Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ Ð¿Ð¾ Ð½Ð¾Ð´Ð°Ð¼" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="730" y="155" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="chrome" value="&lt;b&gt;selenium-chrome&lt;/b&gt;&lt;br&gt;&lt;br&gt;Chrome Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€&lt;br&gt;(headless)&lt;br&gt;&lt;br&gt;Ð ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚&lt;br&gt;ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹, ÐºÐ»Ð¸ÐºÐ°ÐµÑ‚" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="730" y="275" width="140" height="110" as="geometry" />
        </mxCell>
        <mxCell id="grid-ui" value="&lt;b&gt;Grid UI&lt;/b&gt;&lt;br&gt;http://localhost:4444&lt;br&gt;&lt;br&gt;ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ ÑÐµÑÑÐ¸Ð¹&lt;br&gt;Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="920" y="155" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="arr1" value="HTTP requests" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="270" as="sourcePoint" />
            <mxPoint x="200" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arr2" value="HTTP" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#6c8ebf;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="320" as="sourcePoint" />
            <mxPoint x="200" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arr3" value="WebDriver" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#0e8088;dashed=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="610" y="260" as="sourcePoint" />
            <mxPoint x="730" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arr4" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#0e8088;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="255" as="sourcePoint" />
            <mxPoint x="800" y="275" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arr5" value="Chrome Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ http://frontend:80" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#6c8ebf;curved=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="730" y="350" as="sourcePoint" />
            <mxPoint x="200" y="350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="500" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="types" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="10" y="460" width="1180" height="240" as="geometry" />
        </mxCell>
        <mxCell id="types-title" value="&lt;b&gt;Ð¢Ð˜ÐŸÐ« Ð¢Ð•Ð¡Ð¢ÐžÐ’ Ð˜ ÐšÐžÐ“Ð”Ð Ð˜Ð¥ Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð¬&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;" parent="1" vertex="1">
          <mxGeometry x="40" y="465" width="1100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="smoke" value="&lt;b&gt;ðŸ”¥ SMOKE TESTS&lt;/b&gt;&lt;br&gt;&lt;br&gt;â€¢ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ (ÑÐµÐºÑƒÐ½Ð´Ñ‹)&lt;br&gt;â€¢ Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°&lt;br&gt;â€¢ &quot;ÐžÐ½Ð¾ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚?&quot;&lt;br&gt;&lt;br&gt;pytest -m smoke" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;spacingLeft=10;" parent="1" vertex="1">
          <mxGeometry x="40" y="500" width="160" height="130" as="geometry" />
        </mxCell>
        <mxCell id="api-tests" value="&lt;b&gt;ðŸ”Œ API TESTS&lt;/b&gt;&lt;br&gt;&lt;br&gt;â€¢ Ð¡Ñ€ÐµÐ´Ð½Ð¸Ðµ (ÑÐµÐºÑƒÐ½Ð´Ñ‹)&lt;br&gt;â€¢ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð»Ð¾Ð³Ð¸ÐºÐ¸&lt;br&gt;â€¢ Ð‘ÐµÐ· Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°&lt;br&gt;&lt;br&gt;pytest -m api" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;spacingLeft=10;" parent="1" vertex="1">
          <mxGeometry x="240" y="495" width="160" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ui-tests" value="&lt;b&gt;ðŸ–¥ï¸ UI TESTS&lt;/b&gt;&lt;br&gt;&lt;br&gt;â€¢ ÐœÐµÐ´Ð»ÐµÐ½Ð½Ñ‹Ðµ (Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹)&lt;br&gt;â€¢ Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€&lt;br&gt;â€¢ End-to-end&lt;br&gt;&lt;br&gt;pytest -m ui_selenium" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left;spacingLeft=10;" parent="1" vertex="1">
          <mxGeometry x="420" y="495" width="160" height="130" as="geometry" />
        </mxCell>
        <mxCell id="pyramid" value="" style="triangle;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;rotation=-90;" parent="1" vertex="1">
          <mxGeometry x="640" y="465" width="140" height="192.5" as="geometry" />
        </mxCell>
        <mxCell id="pyr-label" value="&lt;br&gt;UI (Ð¼Ð°Ð»Ð¾)&lt;br&gt;â†“&lt;br&gt;API (Ð±Ð¾Ð»ÑŒÑˆÐµ)&lt;br&gt;â†“&lt;br&gt;Unit (Ð¼Ð½Ð¾Ð³Ð¾)&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ÐŸÐ¸Ñ€Ð°Ð¼Ð¸Ð´Ð° Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="610" y="510" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="commands" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;ÐšÐžÐœÐÐÐ”Ð« Ð—ÐÐŸÐ£Ð¡ÐšÐ&lt;/b&gt;&lt;br&gt;&lt;br&gt;# API Ñ‚ÐµÑÑ‚Ñ‹&lt;br&gt;docker compose -f docker-compose.test.yml up --build&lt;br&gt;&lt;br&gt;# Selenium Ñ‚ÐµÑÑ‚Ñ‹&lt;br&gt;docker compose -f docker-compose.selenium.yml up --build&lt;br&gt;&lt;br&gt;# ÐžÑ‚Ñ‡Ñ‘Ñ‚&lt;br&gt;open ./test-reports/report.html&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;spacingLeft=10;fontFamily=Courier New;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="860" y="465" width="270" height="225" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

# ğŸ³ Docker Calculator â€” ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ñ€Ğ°Ğ·Ğ²Ñ‘Ñ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

> **Ğ’ĞµÑ€ÑĞ¸Ñ:** 2.2 Junior  
> **Ğ”Ğ°Ñ‚Ğ°:** 26 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2025  
> **ĞŸĞ¾Ñ€Ñ‚Ñ‹:** Frontend: 3001, Backend: 8080

---

## ğŸ“‹ ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

1. [Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğº ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ](#1-Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ-Ğº-ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ)
2. [Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹](#2-Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ-Ğ¿Ğ¾Ñ€Ñ‚Ñ‹)
3. [ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¸Ğ· Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²](#3-Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹-Ğ·Ğ°Ğ¿ÑƒÑĞº-Ğ¸Ğ·-Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ…-Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²)
4. [Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑĞ±Ğ¾Ñ€ĞºĞ¾Ğ¹ (Docker Compose)](#4-Ğ·Ğ°Ğ¿ÑƒÑĞº-Ñ-Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹-ÑĞ±Ğ¾Ñ€ĞºĞ¾Ğ¹-docker-compose)
5. [ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº](#5-Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¹-Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹-Ğ·Ğ°Ğ¿ÑƒÑĞº)
6. [ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸](#6-Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°-Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸)
7. [ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ°](#7-Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°-Ğ¸-Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ°)
8. [Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼](#8-Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ-Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼)
9. [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#9-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
10. [ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ÑĞ²Ğ¾Ğ¸Ñ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²](#10-Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ-ÑĞ²Ğ¾Ğ¸Ñ…-Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²)

---

## 1. Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğº ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ

### ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾Ğµ ĞŸĞ

| ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° | ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ | ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ |
|-----------|-------------------|------------------|
| Docker Desktop | 4.0+ | `docker --version` |
| Docker Compose | v2.0+ | `docker compose version` |
| Git | 2.0+ | `git --version` |

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Docker

```bash
docker --version
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
Docker version 27.4.0, build bde2b89
```

```bash
docker compose version
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
Docker Compose version v2.31.0-desktop.2
```

---

## 2. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹

### Ğ¡Ñ…ĞµĞ¼Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Ğ’Ğ°Ñˆ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€                          â”‚
â”‚                                                                 â”‚
â”‚  Ğ‘Ñ€Ğ°ÑƒĞ·ĞµÑ€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                                   â”‚              â”‚
â”‚                                                   â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Docker Engine                         â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚  â”‚    frontend     â”‚  â”€â”€â”€â”€â”€â–¶ â”‚     backend     â”‚        â”‚   â”‚
â”‚  â”‚  â”‚   nginx:80      â”‚  proxy  â”‚  tomcat:8080    â”‚        â”‚   â”‚
â”‚  â”‚  â”‚                 â”‚  /api/* â”‚                 â”‚        â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â”‚           â”‚                           â”‚                  â”‚   â”‚
â”‚  â”‚      localhost:3001              localhost:8080          â”‚   â”‚
â”‚  â”‚           â–²                           â–²                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                           â”‚                       â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚      â”‚     ĞŸÑ€Ğ¾Ğ±Ñ€Ğ¾Ñ Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ² Docker                 â”‚              â”‚
â”‚      â”‚     3001:80 (frontend â†’ nginx)            â”‚              â”‚
â”‚      â”‚     8080:8080 (backend â†’ tomcat)          â”‚              â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ²

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | ĞŸĞ¾Ñ€Ñ‚ Ñ…Ğ¾ÑÑ‚Ğ° | ĞŸĞ¾Ñ€Ñ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° | ĞŸÑ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|--------|------------|-----------------|----------|----------|
| Frontend | **3001** | 80 | HTTP | React + nginx (UI ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ°) |
| Backend | **8080** | 8080 | HTTP | Spring Boot (REST API) |

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ¿Ğ¾Ñ€Ñ‚ 3001, Ğ° Ğ½Ğµ 3000?

ĞŸĞ¾Ñ€Ñ‚ 3000 Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸:
- Grafana (Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³)
- React Development Server
- Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ¸Ğ·Ğ±ĞµĞ¶Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ğ¾Ğ², Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ¿Ğ¾Ñ€Ñ‚ **3001**.

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ²

```bash
# macOS/Linux
lsof -i :3001
lsof -i :8080

# Ğ•ÑĞ»Ğ¸ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹ â€” Ğ²Ñ‹Ğ²Ğ¾Ğ´ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼
# Ğ•ÑĞ»Ğ¸ Ğ·Ğ°Ğ½ÑÑ‚Ñ‹ â€” ÑƒĞ²Ğ¸Ğ´Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‰Ğ¸Ğ¹ Ğ¿Ğ¾Ñ€Ñ‚
```

**Ğ•ÑĞ»Ğ¸ Ğ¿Ğ¾Ñ€Ñ‚ Ğ·Ğ°Ğ½ÑÑ‚:**
```bash
# ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ 3001
lsof -i :3001
kill -9 <PID>
```

---

## 3. ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¸Ğ· Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²

> **Ğ¡Ğ°Ğ¼Ñ‹Ğ¹ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ±!** ĞĞµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ ÑĞ±Ğ¾Ñ€ĞºĞ¸ â€” Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹ ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ Ğ¸Ğ· Docker Hub.

### Ğ¨Ğ°Ğ³ 3.1: Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ docker-compose Ñ„Ğ°Ğ¹Ğ»

Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ ĞµÑ‰Ñ‘ Ğ½Ğµ ĞºĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ»Ğ¸ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹:

```bash
git clone https://github.com/YOUR_USERNAME/calculator-docker-course.git
cd calculator-docker-course/ykg
```

### Ğ¨Ğ°Ğ³ 3.2: Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¸Ğ· Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²

ĞĞ±Ñ€Ğ°Ğ·Ñ‹ ÑƒĞ¶Ğµ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ñ‹ Ğ½Ğ° Docker Hub Ğ¿Ğ¾Ğ´ username `nikolaysaltan`:

```bash
# ĞĞ±Ñ€Ğ°Ğ·Ñ‹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ, Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°Ñ‚ÑŒ!
docker compose -f docker-compose.prebuilt.yml up -d
```

Ğ˜Ğ»Ğ¸ Ñ ÑĞ²Ğ½Ñ‹Ğ¼ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ¸ĞµĞ¼ username:

```bash
export DOCKER_USERNAME=nikolaysaltan
```

### Ğ¨Ğ°Ğ³ 3.3: Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¸Ğ· Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²

```bash
docker compose -f docker-compose.prebuilt.yml up -d
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**
1. Docker ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹ Ğ¸Ğ· Docker Hub
2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ ÑĞµÑ‚ÑŒ Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹
3. Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ backend, Ğ¶Ğ´Ñ‘Ñ‚ Ğ¿Ğ¾ĞºĞ° Ğ¾Ğ½ ÑÑ‚Ğ°Ğ½ĞµÑ‚ healthy
4. Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ frontend

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
[+] Running 3/3
 âœ” Network ykg_default  Created
 âœ” Container calc-backend   Started
 âœ” Container calc-frontend  Started
```

### Ğ¨Ğ°Ğ³ 3.4: ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ

```
http://localhost:3001
```

### ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²

| Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ± | Ğ’Ñ€ĞµĞ¼Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° | Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ |
|--------|---------------|------------|
| **Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹** | ~30 ÑĞµĞºÑƒĞ½Ğ´ | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Docker |
| Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ ÑĞ±Ğ¾Ñ€ĞºĞ° | 2-5 Ğ¼Ğ¸Ğ½ÑƒÑ‚ | Docker + Node.js + Maven (Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°Ñ…) |

---

## 4. Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑĞ±Ğ¾Ñ€ĞºĞ¾Ğ¹ (Docker Compose)

### Ğ¨Ğ°Ğ³ 3.1: ĞŸĞµÑ€ĞµĞ¹Ñ‚Ğ¸ Ğ² Ğ¿Ğ°Ğ¿ĞºÑƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```bash
cd /Ğ¿ÑƒÑ‚ÑŒ/Ğº/Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ
```

### Ğ¨Ğ°Ğ³ 3.2: Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ

```bash
docker compose up --build -d
```

**Ğ Ğ°Ğ·Ğ±Ğ¾Ñ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:**

| Ğ¤Ğ»Ğ°Ğ³ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|----------|
| `up` | Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ |
| `--build` | ĞŸĞµÑ€ĞµÑĞ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹ Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼ |
| `-d` | Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ² Ñ„Ğ¾Ğ½Ğ¾Ğ²Ğ¾Ğ¼ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ (detached) |

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
[+] Building 45.2s (24/24) FINISHED
 => [backend builder 1/6] FROM docker.io/library/maven:3.9-eclipse-temurin-17
 => [frontend builder 1/7] FROM docker.io/library/node:20-alpine
 ...
 => exporting to image
 => => naming to docker.io/library/ykg-backend:latest
 => => naming to docker.io/library/ykg-frontend:latest
 
 Network ykg_default  Created
 Container calc-backend  Created
 Container calc-frontend  Created
 Container calc-backend  Started
 Container calc-backend  Healthy
 Container calc-frontend  Started
```

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** ĞĞ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚Ğµ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° `Healthy` â€” ÑÑ‚Ğ¾ Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ backend Ğ¿Ñ€Ğ¾ÑˆÑ‘Ğ» health check Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹.

### Ğ¨Ğ°Ğ³ 3.3: ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ

```bash
docker compose ps
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
NAME            IMAGE          COMMAND                  SERVICE    CREATED          STATUS                    PORTS
calc-backend    ykg-backend    "java -XX:+UseContaâ€¦"   backend    30 seconds ago   Up 29 seconds (healthy)   0.0.0.0:8080->8080/tcp
calc-frontend   ykg-frontend   "/docker-entrypointâ€¦"   frontend   25 seconds ago   Up 24 seconds             0.0.0.0:3001->80/tcp
```

### Ğ¨Ğ°Ğ³ 3.4: ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ

```
http://localhost:3001
```

---

## 5. ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº

Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ, ĞºĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Docker Compose "Ğ¿Ğ¾Ğ´ ĞºĞ°Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼", Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ ÑÑ‚Ğ¸ ÑˆĞ°Ğ³Ğ¸ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ.

### Ğ¨Ğ°Ğ³ 4.1: Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Backend Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ°

```bash
docker build -t calc-backend-image ./backend
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´ (ÑĞ¾ĞºÑ€Ğ°Ñ‰Ñ‘Ğ½Ğ½Ğ¾):**
```
[+] Building 45.2s (12/12) FINISHED
 => [internal] load build definition from Dockerfile
 => [builder 1/6] FROM docker.io/library/maven:3.9-eclipse-temurin-17
 => [builder 2/6] WORKDIR /app
 => [builder 3/6] COPY pom.xml .
 => [builder 4/6] RUN mvn dependency:go-offline -B
 => [builder 5/6] COPY src ./src
 => [builder 6/6] RUN mvn clean package -DskipTests -B
 => [stage-1 2/5] RUN groupadd --gid 1001 appgroup && useradd ...
 => [stage-1 4/5] COPY --from=builder /app/target/*.jar app.jar
 => exporting to image
 => => naming to docker.io/library/calc-backend-image:latest
```

### Ğ¨Ğ°Ğ³ 4.2: Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Frontend Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ°

```bash
docker build -t calc-frontend-image -f frontend/Dockerfile.compose ./frontend
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´ (ÑĞ¾ĞºÑ€Ğ°Ñ‰Ñ‘Ğ½Ğ½Ğ¾):**
```
[+] Building 89.5s (15/15) FINISHED
 => [builder 1/7] FROM docker.io/library/node:20-alpine
 => [builder 4/7] RUN npm install
 => [builder 7/7] RUN npm run build
 => [stage-1 3/5] COPY --from=builder /app/build /usr/share/nginx/html
 => [stage-1 4/5] COPY nginx.compose.conf /etc/nginx/conf.d/default.conf
 => exporting to image
 => => naming to docker.io/library/calc-frontend-image:latest
```

### Ğ¨Ğ°Ğ³ 4.3: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Docker ÑĞµÑ‚Ğ¸

```bash
docker network create calc-network
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
a1b2c3d4e5f6g7h8i9j0...
```

### Ğ¨Ğ°Ğ³ 4.4: Ğ—Ğ°Ğ¿ÑƒÑĞº Backend ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°

```bash
docker run -d \
  --name backend \
  --network calc-network \
  -p 8080:8080 \
  calc-backend-image
```

**Ğ Ğ°Ğ·Ğ±Ğ¾Ñ€ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²:**

| ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|----------|
| `-d` | Ğ¤Ğ¾Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ (detached) |
| `--name backend` | Ğ˜Ğ¼Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° Ğ´Ğ»Ñ DNS Ğ² ÑĞµÑ‚Ğ¸ |
| `--network calc-network` | ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğº ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ¹ ÑĞµÑ‚Ğ¸ |
| `-p 8080:8080` | ĞŸÑ€Ğ¾Ğ±Ñ€Ğ¾Ñ Ğ¿Ğ¾Ñ€Ñ‚Ğ°: Ñ…Ğ¾ÑÑ‚:ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ |

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
76c96f0719cf...
```

### Ğ¨Ğ°Ğ³ 4.5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Backend

```bash
# ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ 5-10 ÑĞµĞºÑƒĞ½Ğ´ Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Spring Boot
curl http://localhost:8080/api/health
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```json
{"status":"OK","service":"calc-backend"}
```

### Ğ¨Ğ°Ğ³ 4.6: Ğ—Ğ°Ğ¿ÑƒÑĞº Frontend ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°

```bash
docker run -d \
  --name frontend \
  --network calc-network \
  -p 3001:80 \
  calc-frontend-image
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
8be86c66cade...
```

### Ğ¨Ğ°Ğ³ 4.7: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ğ±Ğ¾Ğ¸Ñ… ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²

```bash
docker ps
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
CONTAINER ID   IMAGE                 COMMAND                  CREATED          STATUS          PORTS                    NAMES
8be86c66cade   calc-frontend-image   "/docker-entrypointâ€¦"   5 seconds ago    Up 4 seconds    0.0.0.0:3001->80/tcp     frontend
76c96f0719cf   calc-backend-image    "java -XX:+UseContaâ€¦"   30 seconds ago   Up 29 seconds   0.0.0.0:8080->8080/tcp   backend
```

---

## 6. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸

### 5.1: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Health Endpoint

```bash
curl http://localhost:8080/api/health
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```json
{"status":"OK","service":"calc-backend"}
```

### 5.2: Ğ¢ĞµÑÑ‚ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğ¹ Ñ‡ĞµÑ€ĞµĞ· Backend Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ

```bash
curl -X POST http://localhost:8080/api/calc \
  -H "Content-Type: application/json" \
  -d '{"a": 10, "b": 5, "op": "+"}'
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```json
{"operation":"10.0 + 5.0","result":15.0}
```

### 5.3: Ğ¢ĞµÑÑ‚ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğ¹ Ñ‡ĞµÑ€ĞµĞ· Frontend (nginx proxy)

```bash
curl -X POST http://localhost:3001/api/calc \
  -H "Content-Type: application/json" \
  -d '{"a": 100, "b": 4, "op": "/"}'
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```json
{"operation":"100.0 / 4.0","result":25.0}
```

### 5.4: Ğ¢ĞµÑÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº (Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ½Ğ¾Ğ»ÑŒ)

```bash
curl -s -w "\nHTTP Status: %{http_code}\n" \
  -X POST http://localhost:3001/api/calc \
  -H "Content-Type: application/json" \
  -d '{"a": 10, "b": 0, "op": "/"}'
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```json
{"error":"Bad Request","message":"Division by zero"}
HTTP Status: 400
```

### 5.5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Security Headers

```bash
curl -I http://localhost:3001 2>/dev/null | grep -E "(X-Frame|X-Content|X-XSS|Server)"
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
Server: nginx
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
```

### 5.6: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ

1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€
2. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸Ñ‚Ğµ Ğ¿Ğ¾ Ğ°Ğ´Ñ€ĞµÑÑƒ: `http://localhost:3001`
3. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ°: `10` Ğ¸ `5`
4. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ: `+`
5. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ"
6. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: `15`

### 5.7: Ğ¢ĞµÑÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ğ² UI

1. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ `10` Ğ² Ğ¿ĞµÑ€Ğ²Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ
2. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ `0` Ğ²Ğ¾ Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ
3. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ `Ã·` (Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ)
4. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ"
5. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: `ĞÑˆĞ¸Ğ±ĞºĞ°: Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ½Ğ¾Ğ»ÑŒ`

---

## 7. ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ°

### 6.1: ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Docker Compose

```bash
docker compose down
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
[+] Running 3/3
 âœ” Container calc-frontend                   Removed
 âœ” Container calc-backend                    Removed
 âœ” Network ykg_default                       Removed
```

### 6.2: ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ñ€ÑƒÑ‡Ğ½Ñ‹Ñ… ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²

```bash
docker stop frontend backend
docker rm frontend backend
docker network rm calc-network
```

### 6.3: Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ² (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

```bash
docker rmi calc-backend-image calc-frontend-image
```

### 6.4: ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Docker

âš ï¸ **Ğ’ĞĞ˜ĞœĞĞĞ˜Ğ•:** Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ Ğ’Ğ¡Ğ• Ğ½ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Docker Ñ€ĞµÑÑƒÑ€ÑÑ‹!

```bash
docker system prune -a --volumes -f
```

---

## 8. Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Port is already allocated

**Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼:**
```
Error response from daemon: Bind for 0.0.0.0:8080 failed: port is already allocated
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
```bash
# ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ
lsof -i :8080

# ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹
docker stop $(docker ps -q)
docker rm $(docker ps -aq)

# ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿ÑƒÑĞº
docker compose up -d
```

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Container is unhealthy

**Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼:**
```
Container calc-backend  Unhealthy
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
```bash
# ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸ backend
docker logs calc-backend

# Ğ¢Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ñ‹:
# - ĞÑˆĞ¸Ğ±ĞºĞ° ĞºĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ†Ğ¸Ğ¸ Java
# - ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ€Ñ‚
# - ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
```

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: CORS Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ

**Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼:**
```
Access to XMLHttpRequest at 'http://localhost:8080/api/calc' from origin 
'http://localhost:3001' has been blocked by CORS policy
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**

ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ `backend/src/main/resources/application.properties`:
```properties
cors.allowed-origins=http://localhost:3000,http://localhost:3001,http://localhost:80
```

ĞŸĞµÑ€ĞµÑĞ¾Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ backend:
```bash
docker compose build backend
docker compose up -d
```

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Cannot connect to Docker daemon

**Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼:**
```
Cannot connect to the Docker daemon at unix:///var/run/docker.sock
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Docker Desktop
2. ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ 30-60 ÑĞµĞºÑƒĞ½Ğ´
3. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ

---

## 9. ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```
Ğ‘Ñ€Ğ°ÑƒĞ·ĞµÑ€ (localhost:3001)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Frontend Container           â”‚
â”‚                                        â”‚
â”‚  nginx:80                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ location / {                      â”‚  â”‚
â”‚  â”‚   â†’ /usr/share/nginx/html (React) â”‚  â”‚
â”‚  â”‚ }                                 â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚ location /api/ {                  â”‚  â”‚
â”‚  â”‚   â†’ proxy_pass http://backend:8080â”‚  â”‚
â”‚  â”‚ }                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ /api/* Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Backend Container            â”‚
â”‚                                        â”‚
â”‚  Spring Boot:8080                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ CalcController                    â”‚  â”‚
â”‚  â”‚   POST /api/calc â†’ calculate()    â”‚  â”‚
â”‚  â”‚   GET  /api/health â†’ health()     â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚ GlobalExceptionHandler            â”‚  â”‚
â”‚  â”‚   â†’ 400 Bad Request               â”‚  â”‚
â”‚  â”‚   â†’ 500 Internal Server Error     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
calculator-docker-course/
â”œâ”€â”€ docker-compose.yml          # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ» Docker Compose
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ Dockerfile              # Multi-stage ÑĞ±Ğ¾Ñ€ĞºĞ° Java
â”‚   â”œâ”€â”€ pom.xml                 # Maven Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”‚   â””â”€â”€ src/main/java/com/example/calc/
â”‚       â”œâ”€â”€ CalcApplication.java      # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚       â”œâ”€â”€ CalcController.java       # REST API ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€
â”‚       â””â”€â”€ GlobalExceptionHandler.java # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ Dockerfile              # Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ´Ğ»Ñ manual Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°
â”‚   â”œâ”€â”€ Dockerfile.compose      # Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ´Ğ»Ñ Docker Compose
â”‚   â”œâ”€â”€ nginx.conf              # nginx Ğ´Ğ»Ñ manual Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°
â”‚   â”œâ”€â”€ nginx.compose.conf      # nginx Ğ´Ğ»Ñ Docker Compose
â”‚   â”œâ”€â”€ package.json            # npm Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ App.js              # React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
â””â”€â”€ tests/
    â”œâ”€â”€ test_api.py             # API Ñ‚ĞµÑÑ‚Ñ‹
    â””â”€â”€ test_ui_selenium.py     # UI Ñ‚ĞµÑÑ‚Ñ‹
```

### Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | Ğ’ĞµÑ€ÑĞ¸Ñ |
|-----------|------------|--------|
| Backend | Spring Boot | 3.2.0 |
| Backend | Java | 17 |
| Frontend | React | 18.x |
| Frontend | nginx | alpine |
| Build | Maven | 3.9 |
| Build | Node.js | 20 |

---

## 10. ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ÑĞ²Ğ¾Ğ¸Ñ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²

Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ¾Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¼Ğ¾Ğ³Ğ»Ğ¸ Ğ¸Ñ… Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ.

### 10.1: Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° Docker Hub

1. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸Ñ‚Ğµ Ğ½Ğ° [hub.docker.com](https://hub.docker.com)
2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚
3. Ğ—Ğ°Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ **username**

### 10.2: Ğ’Ñ…Ğ¾Ğ´ Ğ² Docker Hub

```bash
docker login
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
Login with your Docker ID to push and pull images from Docker Hub.
Username: your-username
Password: 
Login Succeeded
```

### 10.3: Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¸ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (ÑĞºÑ€Ğ¸Ğ¿Ñ‚)

```bash
# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ username
export DOCKER_USERNAME=your-username

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ ÑĞ±Ğ¾Ñ€ĞºĞ¸ Ğ¸ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
./scripts/build-and-push.sh --push
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´:**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ³ Docker Calculator â€” Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ Backend:  docker.io/your-username/calculator-docker-backend:1.0.0
ğŸ“¦ Frontend: docker.io/your-username/calculator-docker-frontend:1.0.0
ğŸ“¤ ĞŸÑƒÑˆ:      true
ğŸ  Ğ ĞµĞµÑÑ‚Ñ€:   docker.io

...

âœ… ĞĞ±Ñ€Ğ°Ğ·Ñ‹ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ñ‹!
```

### 10.4: Ğ ÑƒÑ‡Ğ½Ğ°Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

Ğ•ÑĞ»Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ğ¸Ñ‚Ğ°ĞµÑ‚Ğµ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ:

```bash
# Ğ¢ĞµĞ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²
docker tag ykg-backend:latest your-username/calculator-docker-backend:1.0.0
docker tag ykg-frontend:latest your-username/calculator-docker-frontend:1.0.0

# ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
docker push your-username/calculator-docker-backend:1.0.0
docker push your-username/calculator-docker-frontend:1.0.0
```

### 10.5: ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ½Ğ° GitHub Container Registry

ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° Docker Hub â€” GitHub CR (Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸ĞµĞ²):

```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Personal Access Token Ğ½Ğ° GitHub
# Settings â†’ Developer settings â†’ Personal access tokens â†’ Tokens (classic)
# ĞŸÑ€Ğ°Ğ²Ğ°: write:packages, read:packages

# Ğ’Ñ…Ğ¾Ğ´
echo $GITHUB_TOKEN | docker login ghcr.io -u your-github-username --password-stdin

# Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¸ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
export DOCKER_USERNAME=your-github-username
./scripts/build-and-push.sh --push --ghcr
```

### 10.6: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²

ĞŸĞ¾ÑĞ»Ğµ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ:

```bash
# Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ docker-compose.prebuilt.yml Ğ¸Ğ· Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
curl -O https://raw.githubusercontent.com/USER/REPO/main/ykg/docker-compose.prebuilt.yml

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ username Ğ²Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²
export DOCKER_USERNAME=your-username

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
docker compose -f docker-compose.prebuilt.yml up -d
```

---

## âœ… Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ²Ñ‘Ñ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

- [ ] Docker Desktop Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ (`docker ps` Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚)
- [ ] ĞŸĞ¾Ñ€Ñ‚Ñ‹ 3001 Ğ¸ 8080 ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹
- [ ] `docker compose up --build -d` Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾
- [ ] `docker compose ps` Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ° ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° Ğ² ÑÑ‚Ğ°Ñ‚ÑƒÑĞµ Up
- [ ] Backend healthy (`curl localhost:8080/api/health`)
- [ ] Frontend Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ (`http://localhost:3001` Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ)
- [ ] ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ
- [ ] Ğ”ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ½Ğ¾Ğ»ÑŒ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

---

**ğŸ‰ ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ!**

**URL:** http://localhost:3001


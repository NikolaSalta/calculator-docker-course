# üê≥ Docker Calculator ‚Äî –£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è Docker.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ–±—É—á–µ–Ω–∏—è Docker –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ. –í–∫–ª—é—á–∞–µ—Ç:
- **Backend**: Java Spring Boot REST API
- **Frontend**: React SPA + nginx
- **Tests**: pytest + Selenium

## üéØ –ß–µ–º—É –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å

- –°–æ–±–∏—Ä–∞—Ç—å Docker-–æ–±—Ä–∞–∑—ã –∏–∑ Dockerfile
- –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–µ—Ç–∏
- –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–æ—Ä—Ç—ã –º–µ–∂–¥—É —Ö–æ—Å—Ç–æ–º –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker Compose –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
- –ó–∞—Ö–æ–¥–∏—Ç—å –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ó–∞–ø—É—Å–∫–∞—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –≤ Docker

## üë®‚Äçüè´ –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [TEACHER_GUIDE.md](TEACHER_GUIDE.md)

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —É—Ä–æ–∫–∞ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ (–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ –ø–æ—à–∞–≥–æ–≤–∞—è —Å–±–æ—Ä–∫–∞)
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- Troubleshooting —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- –ß–µ–∫-–ª–∏—Å—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —É—Ä–æ–∫—É

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker Desktop (Mac/Windows) –∏–ª–∏ Docker Engine (Linux)
- Git

### üì¶ –ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –Ω–∞ Docker Hub

| –û–±—Ä–∞–∑ | –°—Å—ã–ª–∫–∞ |
|-------|--------|
| **Backend** | https://hub.docker.com/r/nikolaysaltan/calculator-docker-backend |
| **Frontend** | https://hub.docker.com/r/nikolaysaltan/calculator-docker-frontend |
| **Tests** | https://hub.docker.com/r/nikolaysaltan/calculator-docker-tests |

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤ (–±—ã—Å—Ç—Ä–æ!)

```bash
# –°–∫–∞—á–∞—Ç—å compose —Ñ–∞–π–ª
curl -O https://raw.githubusercontent.com/nikolasalta/calculator-docker-course/main/docker-compose.prebuilt.yml

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker compose -f docker-compose.prebuilt.yml up -d

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open http://localhost:3001
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ–±—Ä–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/nikolasalta/calculator-docker-course.git
cd calculator-docker-course

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Docker Compose
docker compose up --build -d

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open http://localhost:3001
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker compose down
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
calculator/
‚îú‚îÄ‚îÄ backend/                 # Java Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–±–æ—Ä–∫–∏ backend
‚îÇ   ‚îú‚îÄ‚îÄ pom.xml             # Maven –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ src/                # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ
‚îú‚îÄ‚îÄ frontend/               # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–±–æ—Ä–∫–∏ (manual)
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.compose  # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–±–æ—Ä–∫–∏ (compose)
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf          # –ö–æ–Ω—Ñ–∏–≥ nginx (manual)
‚îÇ   ‚îú‚îÄ‚îÄ nginx.compose.conf  # –ö–æ–Ω—Ñ–∏–≥ nginx (compose)
‚îÇ   ‚îú‚îÄ‚îÄ package.json        # Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ src/                # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ React
‚îÇ
‚îú‚îÄ‚îÄ tests/                  # –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã (pytest + Selenium)
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile          # –û–±—Ä–∞–∑ —Å —Ç–µ—Å—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt    # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py         # –û–±—â–∏–µ fixtures
‚îÇ   ‚îú‚îÄ‚îÄ test_api.py         # API-—Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_ui_selenium.py # UI-—Ç–µ—Å—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml          # –û—Å–Ω–æ–≤–Ω–æ–π compose
‚îú‚îÄ‚îÄ docker-compose.test.yml     # Compose —Å API-—Ç–µ—Å—Ç–∞–º–∏
‚îî‚îÄ‚îÄ docker-compose.selenium.yml # Compose —Å Selenium-—Ç–µ—Å—Ç–∞–º–∏
```

## üîß –†–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞

### 1. Manual —Ä–µ–∂–∏–º (–¥–ª—è –æ–±—É—á–µ–Ω–∏—è)

```bash
# –°–æ–∑–¥–∞—Ç—å —Å–µ—Ç—å
docker network create calc-net

# –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
docker build -t calc-backend:local ./backend
docker build -t calc-frontend:local ./frontend

# –ó–∞–ø—É—Å—Ç–∏—Ç—å backend
docker run -d --name calc-backend \
  --network calc-net \
  -p 8080:8080 \
  calc-backend:local

# –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend
docker run -d --name calc-frontend \
  --network calc-net \
  -p 3001:80 \
  calc-frontend:local

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker ps
curl http://localhost:8080/api/health
open http://localhost:3001
```

### 2. Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
docker compose up --build -d
```

### 3. –° —Ç–µ—Å—Ç–∞–º–∏

```bash
# API-—Ç–µ—Å—Ç—ã
docker compose -f docker-compose.test.yml up --build --abort-on-container-exit

# Selenium UI-—Ç–µ—Å—Ç—ã
docker compose -f docker-compose.selenium.yml up --build --abort-on-container-exit

# –û—Ç—á—ë—Ç
open ./test-reports/report.html
```

## üåê Endpoints

| URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| http://localhost:3001 | UI –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ |
| http://localhost:8080/api/health | Health check |
| http://localhost:8080/api/calc | API –≤—ã—á–∏—Å–ª–µ–Ω–∏–π |
| http://localhost:4444 | Selenium Grid UI (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤) |

## üìö API Reference

### POST /api/calc

–í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ.

**Request:**
```json
{
  "a": 10,
  "b": 5,
  "op": "+"
}
```

**Response:**
```json
{
  "result": 15.0,
  "operation": "10.0 + 5.0"
}
```

**–û–ø–µ—Ä–∞—Ü–∏–∏:** `+`, `-`, `*`, `/`

### GET /api/health

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.

**Response:**
```json
{
  "status": "OK",
  "service": "calc-backend"
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

> üìñ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [TESTING_DOCUMENTATION.md](TESTING_DOCUMENTATION.md)

### üì¶ Docker-–æ–±—Ä–∞–∑ —Ç–µ—Å—Ç–æ–≤ (Multi-Platform)

| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ |
|-------------|-----------|-----------|
| `linux/amd64` | x86_64 | Windows, Linux, Intel Mac |
| `linux/arm64` | aarch64 | Apple Silicon (M1/M2/M3) |

```bash
# –°–∫–∞—á–∞—Ç—å –æ–±—Ä–∞–∑ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
docker pull nikolaysaltan/calculator-docker-tests:latest

# –ó–∞–ø—É—Å–∫ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º (Chromium –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞!)
docker run --rm \
  -e USE_EMBEDDED_BROWSER=true \
  -e HEADLESS=true \
  -e BACKEND_URL=http://host.docker.internal:8080 \
  -e FRONTEND_URL=http://host.docker.internal:3001 \
  -v $(pwd)/reports:/tests/reports \
  nikolaysaltan/calculator-docker-tests:latest
```

### üé¨ –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (noVNC)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –±—Ä–∞—É–∑–µ—Ä–∞
docker compose -f docker-compose.selenium.yml up --build

# –û—Ç–∫—Ä—ã—Ç—å http://localhost:7900 (–ø–∞—Ä–æ–ª—å: secret)
# –°–º–æ—Ç—Ä–∏—Ç–µ —Ç–µ—Å—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –æ—Ç—á—ë—Ç–æ–≤ (–ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤)
docker compose -f docker-compose.reports.yml up -d

# –û—Ç–∫—Ä—ã—Ç—å http://localhost:9001/report.html
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
```bash
docker compose -f docker-compose.selenium.yml up --build --abort-on-container-exit
```

### –¢–æ–ª—å–∫–æ smoke-—Ç–µ—Å—Ç—ã
```bash
docker compose -f docker-compose.test.yml run --rm tests pytest -m smoke
```

### –¢–æ–ª—å–∫–æ API-—Ç–µ—Å—Ç—ã
```bash
docker compose -f docker-compose.test.yml run --rm tests pytest -m api
```

### –¢–æ–ª—å–∫–æ UI-—Ç–µ—Å—Ç—ã
```bash
docker compose -f docker-compose.selenium.yml run --rm tests pytest -m ui_selenium
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```bash
docker compose logs -f
docker compose logs backend
docker compose logs frontend
```

### –ó–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker exec -it calc-backend sh
docker exec -it calc-frontend sh
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å
```bash
docker network ls
docker inspect calc-backend --format '{{json .NetworkSettings.Networks}}'
```

## üìñ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞–∑–æ–≤
docker images | grep calc-

# –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps -a

# –û—á–∏—Å—Ç–∫–∞
docker compose down
docker system prune -a  # –û–°–¢–û–†–û–ñ–ù–û: —É–¥–∞–ª–∏—Ç –≤—Å—ë –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

–í –ø–∞–ø–∫–µ `documents/` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:

- **`docker_quiz.html`** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç –ø–æ Docker —Å —Ç—Ä–µ–º—è —Ä–µ–∂–∏–º–∞–º–∏:
  - üé¥ –§–ª–µ—à-–∫–∞—Ä—Ç—ã (–∏–∑—É—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤)
  - üìù –¢–µ—Å—Ç (–≤—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (Docker –æ—Å–Ω–æ–≤—ã, Dockerfile, –°–µ—Ç–∏, Compose, –ö–æ–º–∞–Ω–¥—ã, –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - 64 –≤–æ–ø—Ä–æ—Å–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
  
- **`pdf_diagrams/`** ‚Äî PDF-–¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
  - `01_docker_architecture.drawio.pdf` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Docker
  - –ò –¥—Ä—É–≥–∏–µ —Å—Ö–µ–º—ã –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–π

- **`flashcards.csv`** ‚Äî –±–∞–∑–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV
- **`docker_basic.png`** ‚Äî –±–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ Docker

### üåê –û–Ω–ª–∞–π–Ω-–≤–µ—Ä—Å–∏—è –∫–≤–∏–∑–∞

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π Docker Quiz –¥–æ—Å—Ç—É–ø–µ–Ω –æ–Ω–ª–∞–π–Ω:
**https://nikolasalta.github.io/calculator-docker-course/**

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è —Å–≤–æ–±–æ–¥–Ω–æ!
